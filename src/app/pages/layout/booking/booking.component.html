<div class="flex justify-between">
  <div>
    <h1 class="text-3xl text-foreground mb-7">Reservar turno</h1>

    <div class="mb-6">
      <h2 class="text-muted-foreground font-medium text-base mb-4">
        Eliga la especialidad
      </h2>
      <div class="flex flex-wrap gap-6">
        @if (specialties.length > 0) { @for (specialty of specialties; track
        $index) {
        <button
          type="button"
          [title]="specialty.name"
          class="w-20 h-20 border text-foreground bg-card rounded-full font-semibold flex items-center justify-center"
          [ngClass]="
            specialtySelected === specialty.name
              ? 'border-primary'
              : 'border-transparent'
          "
          (click)="onSpecialtySelected(specialty)"
        >
          <img [src]="specialty.imageUrl" alt="" class="w-10 h-10" />
        </button>
        } } @else {

        <hlm-icon size="base" name="lucideLoader2" class="animate-spin" />

        }
      </div>
    </div>

    @if (doctors.length > 0) {
    <div class="mb-6">
      <h2 class="text-muted-foreground text-base mb-3">Eliga al doctor</h2>

      <div class="flex flex-wrap gap-6">
        @for (doctor of doctors; track $index) {
        <button
          type="button"
          class="w-40 h-40 text-sm border text-primary-foreground bg-card rounded-full font-semibold flex flex-col items-center justify-center gap-2"
          (click)="onDoctorSelected(doctor.id)"
          [ngClass]="
            doctorSelected === doctor.id
              ? 'border-primary'
              : 'border-transparent'
          "
        >
          <img
            [src]="doctor.photoURL"
            alt=""
            class="w-12 h-12 rounded-xl object-cover"
          />
          <div>
            <h2 class="text-foreground text-sm font-medium text-center">
              {{ doctor.firstName }}
              {{ doctor.lastName }}
            </h2>
          </div>
        </button>
        }
      </div>
    </div>
    } @if (dates.length > 0) {
    <div class="mb-6">
      <h2 class="text-muted-foreground text-base mb-3">Eliga la fecha</h2>

      <div class="flex flex-wrap gap-6">
        @for (date of dates; track $index) {
        <button
          type="button"
          class="px-4 py-3 text-sm border text-foreground bg-card rounded-xl font-semibold flex flex-col items-center justify-center gap-2"
          (click)="onDateSelected(date, $index)"
          [ngClass]="
            dateSelected === $index ? 'border-primary' : 'border-transparent'
          "
        >
          {{ date | date : "d/M/yy" }}
        </button>
        }
      </div>
    </div>
    } @if (hours.length > 0) {
    <div class="mb-6">
      <h2 class="text-muted-foreground text-base mb-3">Elige la hora</h2>

      <div class="flex flex-wrap gap-6">
        @for (hour of hours; track $index) {
        <button
          type="button"
          class="px-4 py-3 text-sm border text-foreground bg-card rounded-xl font-semibold flex flex-col items-center justify-center gap-2"
          (click)="onHourSelected(hour, $index)"
          [ngClass]="
            hourSelected === $index ? 'border-primary' : 'border-transparent'
          "
        >
          {{ hour | date : "h:mm" }}
        </button>
        }
      </div>
    </div>
    }

    <button
      type="button"
      hlmBtn
      class="w-full"
      [disabled]="buttonState"
      (click)="onBookAppointment()"
    >
      Reservar turno
    </button>
  </div>
</div>
